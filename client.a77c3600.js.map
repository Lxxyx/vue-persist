{"version":3,"sources":["webpack:///client.a77c3600.js","webpack:///./example/index.js","webpack:///./src/index.js"],"names":["webpackJsonp","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__src__","use","el","data","name","created","this","$persist","methods","handleInput","_ref","target","render","h","$createElement","attrs","type","on","input","Vue","arguments","length","undefined","_ref$name","defaultStoreName","_ref$read","read","k","localStorage","getItem","_ref$write","write","v","setItem","cache","prototype","names","_this","storeName","JSON","parse","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_loop","_persistWatchers","indexOf","push","$watch","val","stringify","_iterator","Symbol","iterator","next","done","err","return","exports"],"mappings":"AAAAA,cAAc,EAAE,IAEV,SAAUC,EAAQC,EAAqBC,GAE7C,YACAC,QAAOC,eAAeH,EAAqB,cAAgBI,OAAO,GAC7C,IAAIC,GAAoCJ,EAAoB,GACxDK,EAAqCL,EAAoB,ECJlFI,GAAA,EAAIE,IAAID,EAAA,GAER,GAAID,GAAA,GACFG,GAAI,OACJC,MACEC,KAAM,IAERC,QALM,WAMJC,KAAKC,UAAU,UAEjBC,SACEC,YADO,SAAAC,GACe,GAATC,GAASD,EAATC,MACXL,MAAKF,KAAOO,EAAOb,QAGvBc,OAbM,WAaG,GAAAC,GAAAP,KAAAQ,cACP,OACED,GAAA,YACEA,EAAA,SAAAE,OAAOC,KAAK,OAAOlB,MAAOQ,KAAKF,MAA/Ba,IAAAC,MAA8CZ,KAAKG,kBADrD,oBD+BA,SAAUhB,EAAQC,EAAqBC,GAE7C,YErDAD,GAAA,EAAe,SAAUyB,GAIjB,GAAAT,GAAAU,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,MAAAG,EAAAb,EAHNN,KAAMoB,EAGAF,SAAAC,EAHmB,gBAGnBA,EAAAE,EAAAf,EAFNgB,OAEMJ,SAAAG,EAFC,SAAAE,GAAA,MAAKC,cAAaC,QAAQF,IAE3BF,EAAAK,EAAApB,EADNqB,QACMT,SAAAQ,EADE,SAACH,EAAGK,GAAJ,MAAUJ,cAAaK,QAAQN,EAAGK,IACpCF,EACAI,IAENf,GAAIgB,UAAU5B,SAAW,SAAU6B,GAAqC,GAAAC,GAAA/B,KAA9BgC,EAA8BlB,UAAAC,OAAA,GAAAC,SAAAF,UAAA,GAAAA,UAAA,GAAlBI,EAC9CrB,EAAO+B,EAAMI,GAAaC,KAAKC,MAAMd,EAAKY,IAAc,MADQG,GAAA,EAAAC,GAAA,EAAAC,EAAArB,MAAA,KAGtE,OAAAsB,GAHsEC,EAAA,cAG3DzC,GAH2DwC,EAAA9C,KAI1C,oBAAfK,GAAKC,KACdiC,EAAKjC,GAAQD,EAAKC,IAGpBiC,EAAKS,iBAAmBT,EAAKS,qBAEzBT,EAAKS,iBAAiBC,QAAQ3C,MAAU,IAC1CiC,EAAKS,iBAAiBE,KAAK5C,GAE3BiC,EAAKY,OAAO7C,EAAM,SAAA8C,GAChB/C,EAAKC,GAAQ8C,EACbnB,EAAMO,EAAWC,KAAKY,UAAUhD,QAZtCiD,EAAmBhB,EAAnBiB,OAAAC,cAAAb,GAAAG,EAAAQ,EAAAG,QAAAC,MAAAf,GAAA,EAA0BI,IAH4C,MAAAY,GAAAf,GAAA,EAAAC,EAAAc,EAAA,aAAAhB,GAAAW,EAAAM,QAAAN,EAAAM,SAAA,WAAAhB,EAAA,KAAAC,QFkHnE,CACA,CAED,SAAUlD,EAAQkE,EAAShE,GAEjCF,EAAOkE,QAAUhE,EAAoB,MAIlC","file":"client.a77c3600.js","sourcesContent":["webpackJsonp([0,2],[\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__src__ = __webpack_require__(1);\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1__src__[\"a\" /* default */]);\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  data: {\n    name: ''\n  },\n  created: function created() {\n    this.$persist(['name']);\n  },\n\n  methods: {\n    handleInput: function handleInput(_ref) {\n      var target = _ref.target;\n\n      this.name = target.value;\n    }\n  },\n  render: function render() {\n    var h = this.$createElement;\n\n    return h(\n      'div',\n      null,\n      [h(\n        'input',\n        {\n          attrs: { type: 'text', value: this.name },\n          on: {\n            'input': this.handleInput\n          }\n        },\n        []\n      ), ' Your name?']\n    );\n  }\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = function (Vue) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$name = _ref.name,\n      defaultStoreName = _ref$name === undefined ? 'persist:store' : _ref$name,\n      _ref$read = _ref.read,\n      read = _ref$read === undefined ? function (k) {\n    return localStorage.getItem(k);\n  } : _ref$read,\n      _ref$write = _ref.write,\n      write = _ref$write === undefined ? function (k, v) {\n    return localStorage.setItem(k, v);\n  } : _ref$write;\n\n  var cache = {};\n\n  Vue.prototype.$persist = function (names) {\n    var _this = this;\n\n    var storeName = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultStoreName;\n\n    var data = cache[storeName] = JSON.parse(read(storeName) || '{}');\n\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      var _loop = function _loop() {\n        var name = _step.value;\n\n        if (typeof data[name] !== 'undefined') {\n          _this[name] = data[name];\n        }\n\n        _this._persistWatchers = _this._persistWatchers || [];\n\n        if (_this._persistWatchers.indexOf(name) === -1) {\n          _this._persistWatchers.push(name);\n\n          _this.$watch(name, function (val) {\n            data[name] = val;\n            write(storeName, JSON.stringify(data));\n          });\n        }\n      };\n\n      for (var _iterator = names[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        _loop();\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n  };\n};\n\n/***/ }),\n/* 2 */,\n/* 3 */,\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(0);\n\n\n/***/ })\n],[4]);\n\n\n// WEBPACK FOOTER //\n// client.a77c3600.js","import Vue from 'vue'\nimport VuePersist from '../src'\n\nVue.use(VuePersist)\n\nnew Vue({\n  el: '#app',\n  data: {\n    name: ''\n  },\n  created() {\n    this.$persist(['name'])\n  },\n  methods: {\n    handleInput({target}) {\n      this.name = target.value\n    }\n  },\n  render() {\n    return (\n      <div>\n        <input type=\"text\" value={this.name} onInput={this.handleInput} /> Your name?\n      </div>\n    )\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./example/index.js","export default function (Vue, {\n  name: defaultStoreName = 'persist:store',\n  read = k => localStorage.getItem(k),\n  write = (k, v) => localStorage.setItem(k, v)\n} = {}) {\n  const cache = {}\n\n  Vue.prototype.$persist = function (names, storeName = defaultStoreName) {\n    const data = cache[storeName] = JSON.parse(read(storeName) || '{}')\n\n    for (const name of names) {\n      if (typeof data[name] !== 'undefined') {\n        this[name] = data[name]\n      }\n\n      this._persistWatchers = this._persistWatchers || []\n\n      if (this._persistWatchers.indexOf(name) === -1) {\n        this._persistWatchers.push(name)\n\n        this.$watch(name, val => {\n          data[name] = val\n          write(storeName, JSON.stringify(data))\n        })\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}